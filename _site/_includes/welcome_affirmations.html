<!-- _includes/welcome_affirmations.html -->
<h1>Welcome!</h1>
<p>
  Access maternal health resources as a public user.
  Please note that this is an agreement for public use 
  and not medical advice, in line with our style guide.
</p>

<div class="affirmations">
  <label class="affirmation-item">
    <input type="checkbox" class="affirmation-checkbox" onchange="checkAffirmations()">
    <span>I understand this is an AI-powered learning assistant</span>
  </label>
  <label class="affirmation-item">
    <input type="checkbox" class="affirmation-checkbox" onchange="checkAffirmations()">
    <span>I will use this tool responsibly and ethically</span>
  </label>
  <label class="affirmation-item">
    <input type="checkbox" class="affirmation-checkbox" onchange="checkAffirmations()">
    <span>I agree to follow the learning guidelines provided</span>
  </label>
</div>

<button class="button next-button" disabled onclick="startChat()">
  Start Learning
</button>

<style>
.affirmations {
    margin: 1.5rem 0;
}

.affirmation-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    font-size: 1.1rem;
    margin-bottom: 0.75rem;
}

.affirmation-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

h1 {
    margin-bottom: 1rem;
}

p {
    line-height: 1.5;
    margin-bottom: 1rem;
}
</style>

<script>
function checkAffirmations() {
    const checkboxes = document.querySelectorAll('.affirmation-checkbox');
    const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
    document.querySelector('.next-button').disabled = !allChecked;
    
    // Show playbar when all checked
    const playbar = document.querySelector('.playbar');
    if (playbar) {
        playbar.style.display = allChecked ? 'flex' : 'none';
    }
}

function startChat() {
    const event = new CustomEvent('affirmationsComplete');
    document.dispatchEvent(event);
}
</script>
