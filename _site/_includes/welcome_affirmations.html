<!-- _includes/welcome_affirmations.html -->
<h1>Welcome!</h1>
<p>
  Access maternal health resources as a public user. Please note that this is an agreement for public use 
  and not medical advice, in line with our style guide.
</p>

<div class="affirmations">
  <label class="affirmation-item">
    <input type="checkbox" class="affirmation-checkbox" onchange="checkAffirmations()">
    <span>I affirm the terms of service.</span>
  </label>
  <label class="affirmation-item">
    <input type="checkbox" class="affirmation-checkbox" onchange="checkAffirmations()">
    <span>I affirm the community norms and guidelines.</span>
  </label>
  <label class="affirmation-item">
    <input type="checkbox" class="affirmation-checkbox" onchange="checkAffirmations()">
    <span>I acknowledge this is a monitored public health resource.</span>
  </label>
</div>

<style>
h1 {
    margin-bottom: 0.75rem;
    font-size: 1.75rem;
}

p {
    line-height: 1.5;
    margin-bottom: 1rem;
}

.affirmations {
    margin: 1rem 0;
}

.affirmation-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 0;
    cursor: pointer;
    font-size: 1rem;
    line-height: 1.5;
}

.affirmation-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
    flex-shrink: 0;
}
</style>

<script>
function checkAffirmations() {
    const checkboxes = document.querySelectorAll('.affirmation-checkbox');
    const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
    
    // Show/hide footer based on checkbox state
    const footer = document.querySelector('.app-footer');
    if (footer) {
        footer.style.display = allChecked ? 'block' : 'none';
    }
}

// Listen for next button click from footer
document.addEventListener('nextClicked', () => {
    const nav = document.querySelector('.app-nav');
    if (nav) {
        const chatLink = nav.querySelector('a[href*="chat"]');
        if (chatLink) chatLink.click();
    }
});
</script>
